{{ define "main" }}
  <div
    class="post {{ with .Site.Params.doNotLoadAnimations }}
      .
    {{ else }}
      animated fadeInDown
    {{ end }}"
  >
    <div class="post__content">
      {{ .Content }}
    </div>

    <!-- (Optional) Home
          -- on top of `mainSections` content (aka posts) ;
          -- as declared in content/_index.md

          One can set `mainSections = [""]` and have the content/_index.md specified here
      -->
  </div>

  {{ if .Params.mainSectionsTitle }}
    <div
      class="post {{ with .Site.Params.doNotLoadAnimations }}
        .
      {{ else }}
        animated fadeInDown
      {{ end }}"
    >
      <div class="post__content">
        <h2>{{ .Params.mainSectionsTitle }}</h2>
      </div>
    </div>
  {{ end }}

  {{ $paginator := .Paginate (where .Site.RegularPages "Type" "in" .Site.Params.mainSections) }}
  {{ range $paginator.Pages }}
    <a href="{{ .RelPermalink }}" class="article-card-link">
      <div class="product-card article-card">
        <h3 class="article-title">{{ .Title }}</h3>
        <p class="article-summary">{{ .Summary | plainify | truncate 180 }}</p>
        <div class="article-meta">
          <span class="article-date">
            {{ if .Site.Params.localizedDates }}
              {{ time.Format "Jan 2, 2006" .Date }}
            {{ else }}
              {{ .Date.Format "Jan 2, 2006" }}
            {{ end }}
          </span>
          {{ with .Page.Params.Tags }}
            <span class="article-tags">
              {{ range first 3 . }}
                <span class="article-tag">{{ . }}</span>
              {{ end }}
            </span>
          {{ end }}
        </div>
      </div>
    </a>
  {{ end }}
  <div class="pagination">
    {{ template "partials/pagination.html" . }}
  </div>
{{ end }}
